<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Programs ‚Äî Jalandhar Fitness Club</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<script src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{min-height:100%}
body{background:#000;color:#fff;font-family:'Inter',sans-serif;-webkit-font-smoothing:antialiased;min-height:100vh}
:root{--b:rgba(255,255,255,0.08);--b2:rgba(255,255,255,0.16);--s:#0d0d0d;--s2:#141414;--m:rgba(255,255,255,0.32);--red:#e05555}
.bar{position:sticky;top:0;z-index:100;background:rgba(0,0,0,0.93);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--b);display:flex;align-items:center;justify-content:space-between;padding:13px 20px}
.bar-brand{font-family:'Cinzel',serif;font-size:13px;font-weight:700;letter-spacing:2.5px;color:#fff;text-transform:uppercase}
.bar-r{display:flex;align-items:center;gap:10px}
.bar-email{font-size:11px;color:var(--m);max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.bar-out{font-size:11px;color:var(--m);background:none;border:1px solid var(--b);border-radius:7px;padding:5px 10px;cursor:pointer;font-family:'Inter',sans-serif;transition:all 0.2s}
.bar-out:hover{color:#fff;border-color:var(--b2)}
.page{max-width:880px;margin:0 auto;padding:44px 20px 100px}
.page-hd{text-align:center;margin-bottom:52px}
.page-hd h1{font-family:'Cinzel',serif;font-size:clamp(22px,5vw,32px);font-weight:900;letter-spacing:2px;margin-bottom:8px}
.page-hd p{font-size:13px;color:var(--m)}
.sec-lbl{font-size:10px;font-weight:600;letter-spacing:2.5px;text-transform:uppercase;color:var(--m);margin-bottom:16px;display:flex;align-items:center;gap:10px}
.sec-lbl::after{content:'';flex:1;height:1px;background:var(--b)}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:14px;margin-bottom:16px}
.pc{background:var(--s);border:1px solid var(--b);border-radius:16px;overflow:hidden;cursor:pointer;transition:border-color 0.2s,transform 0.2s,box-shadow 0.2s;position:relative}
.pc:hover:not(.cs){border-color:var(--b2);transform:translateY(-2px);box-shadow:0 12px 40px rgba(0,0,0,0.5)}
.pc.sel{border-color:#fff;box-shadow:0 0 0 1px #fff,0 12px 40px rgba(255,255,255,0.06)}
.pc.cs{cursor:default;opacity:0.4}
.pc-line{height:3px;width:100%;background:#fff;opacity:0.1}
.pc.sel .pc-line{opacity:0.6}
.pc-body{padding:18px 16px 15px}
.pc-icon{font-size:24px;margin-bottom:10px}
.pc-name{font-weight:700;font-size:14px;margin-bottom:5px;color:#fff;letter-spacing:0.2px}
.pc-tag{display:inline-block;font-size:9px;letter-spacing:1.2px;text-transform:uppercase;color:var(--m);background:rgba(255,255,255,0.04);border:1px solid var(--b);border-radius:20px;padding:2px 8px;margin-bottom:9px}
.pc-meta{font-size:12px;color:var(--m);line-height:1.6;margin-bottom:14px;min-height:34px}
.pc-foot{display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid var(--b)}
.pc-price{font-family:'Cinzel',serif;font-size:19px;font-weight:700;color:#fff}
.pc-btn{font-size:11px;font-weight:600;color:var(--m);background:rgba(255,255,255,0.04);border:1px solid var(--b);border-radius:7px;padding:6px 12px;cursor:pointer;font-family:'Inter',sans-serif;transition:all 0.2s;white-space:nowrap}
.pc:hover:not(.cs) .pc-btn{border-color:var(--b2);color:#fff}
.pc.sel .pc-btn{background:#fff;border-color:#fff;color:#000}
.pc-check{position:absolute;top:12px;right:12px;width:20px;height:20px;border-radius:50%;background:#fff;display:none;align-items:center;justify-content:center;font-size:10px;font-weight:800;color:#000}
.pc.sel .pc-check{display:flex}
.cs-badge{font-size:10px;color:var(--m);background:rgba(255,255,255,0.04);border:1px solid var(--b);border-radius:7px;padding:5px 10px;font-family:'Inter',sans-serif}
.pay{background:var(--s);border:1px solid var(--b);border-radius:18px;overflow:hidden;max-height:0;opacity:0;pointer-events:none;transition:max-height 0.4s ease,opacity 0.35s ease,margin 0.35s ease;margin-top:0}
.pay.open{max-height:900px;opacity:1;pointer-events:all;margin-top:32px}
.pay-inner{padding:28px 26px}
.pay-hd{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;padding-bottom:20px;border-bottom:1px solid var(--b)}
.pay-title{font-family:'Cinzel',serif;font-size:17px;font-weight:700;letter-spacing:1px}
.pay-x{background:none;border:none;color:var(--m);font-size:20px;cursor:pointer;padding:2px 6px;border-radius:5px;transition:color 0.2s;line-height:1}
.pay-x:hover{color:#fff}
.ord{background:rgba(255,255,255,0.03);border:1px solid var(--b);border-radius:12px;margin-bottom:22px;overflow:hidden}
.or{display:flex;justify-content:space-between;align-items:center;padding:11px 15px;font-size:13px}
.or+.or{border-top:1px solid var(--b)}
.or.tot{background:rgba(255,255,255,0.04)}
.or .k{color:var(--m)}.or .v{font-weight:500}
.or.tot .k{color:rgba(255,255,255,0.55);font-weight:600}
.or.tot .v{font-family:'Cinzel',serif;font-size:20px;font-weight:700;color:#fff}
.flbl{display:block;font-size:10px;font-weight:600;letter-spacing:1.2px;text-transform:uppercase;color:var(--m);margin-bottom:8px}
#card-container{min-height:88px;margin-bottom:13px}
.sec-row{display:flex;align-items:center;gap:8px;font-size:11px;color:var(--m);background:rgba(255,255,255,0.02);border:1px solid var(--b);border-radius:9px;padding:9px 13px;margin-bottom:18px}
.pay-btn{width:100%;padding:15px;border-radius:11px;border:none;font-family:'Cinzel',serif;font-size:14px;font-weight:700;letter-spacing:1.5px;cursor:pointer;background:#fff;color:#000;transition:all 0.25s ease;position:relative;overflow:hidden}
.pay-btn:hover:not(:disabled){background:rgba(255,255,255,0.88);transform:translateY(-1px);box-shadow:0 10px 30px rgba(255,255,255,0.1)}
.pay-btn:disabled{opacity:0.3;cursor:not-allowed;transform:none}
.pay-btn .lbl{position:relative;z-index:1}
.pay-btn.ld .lbl{opacity:0}
.bsp{display:none;width:16px;height:16px;border:2px solid rgba(0,0,0,0.25);border-top-color:#000;border-radius:50%;animation:sp 0.7s linear infinite;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}
.pay-btn.ld .bsp{display:block}
@keyframes sp{to{transform:translate(-50%,-50%) rotate(360deg)}}
#pay-st{min-height:16px;margin-top:11px;font-size:12px;text-align:center;border-radius:8px;transition:all 0.2s}
#pay-st.error{color:var(--red);background:rgba(224,85,85,0.07);border:1px solid rgba(224,85,85,0.18);padding:9px 12px}
.test-note{text-align:center;font-size:10px;color:rgba(255,255,255,0.18);background:rgba(255,255,255,0.02);border:1px solid var(--b);border-radius:8px;padding:8px 12px;margin-top:11px}
#suc{display:none;flex-direction:column;align-items:center;text-align:center;padding:64px 24px;gap:18px}
.suc-ring{width:76px;height:76px;border-radius:50%;background:rgba(255,255,255,0.04);border:1.5px solid rgba(255,255,255,0.3);display:flex;align-items:center;justify-content:center;font-size:28px;animation:pop 0.5s cubic-bezier(0.175,0.885,0.32,1.275) both}
@keyframes pop{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}
.suc-title{font-family:'Cinzel',serif;font-size:23px;font-weight:700;letter-spacing:1px}
.suc-desc{color:var(--m);font-size:13px;max-width:310px;line-height:1.75}
.conf{background:var(--s);border:1px solid var(--b);border-radius:13px;padding:15px 18px;width:100%;max-width:340px;text-align:left;font-size:13px}
.cr{display:flex;justify-content:space-between;padding:6px 0;color:var(--m)}
.cr+.cr{border-top:1px solid var(--b)}
.cr span:last-child{color:#fff;font-weight:500}
@media(max-width:600px){.grid{grid-template-columns:1fr 1fr}.pay-inner{padding:20px 16px}}
@media(max-width:380px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="bar">
  <div class="bar-brand">JFC ‚Äî Programs</div>
  <div class="bar-r">
    <div class="bar-email" id="bar-email">‚Äî</div>
    <button class="bar-out" onclick="doOut()">Sign Out</button>
  </div>
</div>
<div class="page" id="main">
  <div class="page-hd" id="page-hd">
    <h1>Choose Your Program</h1>
    <p>Select a program, complete payment, and get instant access.</p>
  </div>
  <div class="sec-lbl" id="lbl-live">Available Now</div>
  <div class="grid" id="live-grid">
    <div class="pc" id="pc-shred" onclick="sel('shred')">
      <div class="pc-check">‚úì</div><div class="pc-line"></div>
      <div class="pc-body">
        <div class="pc-icon">üî•</div><div class="pc-name">4-Week Shred</div>
        <div class="pc-tag">Fat Loss</div>
        <div class="pc-meta">Intense conditioning. 7 days/week, full body burn.</div>
        <div class="pc-foot"><div class="pc-price">$49</div><button class="pc-btn">Select</button></div>
      </div>
    </div>
    <div class="pc" id="pc-strength" onclick="sel('strength')">
      <div class="pc-check">‚úì</div><div class="pc-line"></div>
      <div class="pc-body">
        <div class="pc-icon">üí™</div><div class="pc-name">8-Week Strength Builder</div>
        <div class="pc-tag">Muscle & Power</div>
        <div class="pc-meta">Progressive overload, compound lifts, size & strength.</div>
        <div class="pc-foot"><div class="pc-price">$69</div><button class="pc-btn">Select</button></div>
      </div>
    </div>
    <div class="pc" id="pc-bikini" onclick="sel('bikini')">
      <div class="pc-check">‚úì</div><div class="pc-line"></div>
      <div class="pc-body">
        <div class="pc-icon">üå∏</div><div class="pc-name">Bikini Program</div>
        <div class="pc-tag">Tone & Shape</div>
        <div class="pc-meta">5-week sculpting program. Shape and tone your body.</div>
        <div class="pc-foot"><div class="pc-price">$59</div><button class="pc-btn">Select</button></div>
      </div>
    </div>
  </div>

  <div class="pay" id="pay-panel">
    <div class="pay-inner">
      <div class="pay-hd">
        <div class="pay-title">Complete Purchase</div>
        <button class="pay-x" onclick="closePay()">‚úï</button>
      </div>
      <div class="ord">
        <div class="or"><span class="k">Program</span><span class="v" id="o-name">‚Äî</span></div>
        <div class="or"><span class="k">Duration</span><span class="v" id="o-dur">‚Äî</span></div>
        <div class="or"><span class="k">Access</span><span class="v">Lifetime (one-time)</span></div>
        <div class="or tot"><span class="k">Total Due</span><span class="v" id="o-total">$0</span></div>
      </div>
      <span class="flbl">Card Details</span>
      <div id="card-container"></div>
      <div class="sec-row">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        Secured by Square ¬∑ SSL encrypted ¬∑ PCI compliant
      </div>
      <div id="pay-st"></div>
      <button class="pay-btn" id="pay-btn" onclick="doPay()" disabled>
        <span class="lbl" id="btn-lbl">Select a Program First</span>
        <span class="bsp"></span>
      </button>
      <div class="test-note">üß™ TEST MODE ‚Äî Card: 4111 1111 1111 1111 ¬∑ Any future date ¬∑ Any CVV</div>
    </div>
  </div>

  <div class="sec-lbl" id="lbl-cs" style="margin-top:44px">Coming Soon</div>
  <div class="grid" id="cs-grid">
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">‚ö°</div><div class="pc-name">Program 4</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">üîÆ</div><div class="pc-name">Program 5</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">üåø</div><div class="pc-name">Program 6</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">üèÜ</div><div class="pc-name">Program 7</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">üíé</div><div class="pc-name">Program 8</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">üîë</div><div class="pc-name">Program 9</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
    <div class="pc cs"><div class="pc-line"></div><div class="pc-body"><div class="pc-icon">üå∫</div><div class="pc-name">Program 10</div><div class="pc-tag">Uploading Soon</div><div class="pc-meta">Coming soon.</div><div class="pc-foot"><div class="pc-price" style="font-size:13px;color:var(--m)">TBA</div><span class="cs-badge">Coming Soon</span></div></div></div>
  </div>

  <div id="suc">
    <div class="suc-ring">‚úì</div>
    <div class="suc-title">Payment Successful</div>
    <div class="suc-desc">Your program is being activated. You'll have full access within a few minutes.</div>
    <div class="conf">
      <div class="cr"><span>Program</span><span id="c-prog">‚Äî</span></div>
      <div class="cr"><span>Amount</span><span id="c-amt">‚Äî</span></div>
      <div class="cr"><span>Transaction</span><span id="c-txn">‚Äî</span></div>
      <div class="cr"><span>Email</span><span id="c-email">‚Äî</span></div>
    </div>
    <p style="font-size:12px;color:var(--m);max-width:290px;line-height:1.7">We'll assign your program and you can log into your dashboard within 15 minutes.</p>
    <button onclick="window.location.href='dashboard.html'" style="padding:13px 24px;border-radius:10px;border:1px solid var(--b);background:transparent;color:var(--m);cursor:pointer;font-size:12px;font-family:'Inter',sans-serif;transition:all 0.2s" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='var(--m)'">Go to Dashboard ‚Üí</button>
  </div>
</div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SQUARE SETUP
   1. https://developer.squareup.com/apps
   2. Your app ‚Üí Credentials tab
   3. Replace values below
   GO LIVE: change script src to web.squarecdn.com (no "sandbox.")
             use Production IDs, delete test-note div
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const SQUARE_APP_ID      = 'sandbox-sq0idb-YOUR_APP_ID_HERE';
const SQUARE_LOCATION_ID = 'YOUR_LOCATION_ID_HERE';

const PROGS = {
  shred:    { name:'4-Week Shred',            dur:'4 weeks', price:49, cents:4900 },
  strength: { name:'8-Week Strength Builder', dur:'8 weeks', price:69, cents:6900 },
  bikini:   { name:'Bikini Program',          dur:'5 weeks', price:59, cents:5900 },
  // Uncomment + fill in as you add programs:
  // p4:  { name:'Program 4', dur:'? weeks', price:0, cents:0 },
  // p5:  { name:'Program 5', dur:'? weeks', price:0, cents:0 },
  // p6:  { name:'Program 6', dur:'? weeks', price:0, cents:0 },
  // p7:  { name:'Program 7', dur:'? weeks', price:0, cents:0 },
  // p8:  { name:'Program 8', dur:'? weeks', price:0, cents:0 },
  // p9:  { name:'Program 9', dur:'? weeks', price:0, cents:0 },
  // p10: { name:'Program 10', dur:'? weeks', price:0, cents:0 },
};
let selId=null,sqCard=null,sqPay=null;
window.userEmail='';
async function initSq(){
  if(!window.Square){return}
  try{
    sqPay=window.Square.payments(SQUARE_APP_ID,SQUARE_LOCATION_ID);
    sqCard=await sqPay.card({style:{'.input-container':{borderColor:'rgba(255,255,255,0.1)',borderRadius:'10px'},'.input-container.is-focus':{borderColor:'rgba(255,255,255,0.35)'},input:{backgroundColor:'#141414',color:'#fff',fontFamily:'Inter,sans-serif',fontSize:'14px'},'input::placeholder':{color:'rgba(255,255,255,0.18)'},'.message-text':{color:'#e05555'}}});
    await sqCard.attach('#card-container');
  }catch(e){console.error('Square:',e);setSt('Payment form failed. Check your Square credentials.','error')}
}
window.sel=function(id){
  if(!PROGS[id])return;
  selId=id;const p=PROGS[id];
  document.querySelectorAll('.pc').forEach(c=>c.classList.remove('sel'));
  document.getElementById('pc-'+id)?.classList.add('sel');
  document.getElementById('o-name').textContent=p.name;
  document.getElementById('o-dur').textContent=p.dur;
  document.getElementById('o-total').textContent='$'+p.price;
  document.getElementById('btn-lbl').textContent='Pay $'+p.price+' ‚Äî Get Access';
  document.getElementById('pay-btn').disabled=false;
  document.getElementById('pay-panel').classList.add('open');
  setTimeout(()=>document.getElementById('pay-panel').scrollIntoView({behavior:'smooth',block:'nearest'}),60);
  setSt('','');
};
window.closePay=function(){
  document.getElementById('pay-panel').classList.remove('open');
  document.querySelectorAll('.pc').forEach(c=>c.classList.remove('sel'));
  selId=null;
};
window.doPay=async function(){
  if(!selId||!sqCard)return;
  const p=PROGS[selId];
  const btn=document.getElementById('pay-btn');
  btn.classList.add('ld');btn.disabled=true;setSt('','');
  try{
    const r=await sqCard.tokenize();
    if(r.status!=='OK'){setSt((r.errors||[]).map(e=>e.message).join(', ')||'Card error.','error');btn.classList.remove('ld');btn.disabled=false;return}
    // ‚îÄ‚îÄ Replace this block with your backend call when ready ‚îÄ‚îÄ
    // const res=await fetch('https://YOUR-BACKEND/charge',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sourceId:r.token,programId:selId,amount:p.cents,email:window.userEmail})});
    // if(!res.ok)throw new Error('Payment failed');
    // const data=await res.json();
    // showSuc(data.transactionId);
    console.log('Token:',r.token,'|',selId,'|',p.cents,'cents |',window.userEmail);
    showSuc('SBX-'+Math.random().toString(36).slice(2,10).toUpperCase());
  }catch(e){console.error(e);setSt('Something went wrong. Try again.','error');btn.classList.remove('ld');btn.disabled=false}
};
function showSuc(txn){
  const p=PROGS[selId];
  document.getElementById('c-prog').textContent=p.name;
  document.getElementById('c-amt').textContent='$'+p.price;
  document.getElementById('c-txn').textContent=txn;
  document.getElementById('c-email').textContent=window.userEmail;
  ['page-hd','live-grid','pay-panel','lbl-live','lbl-cs','cs-grid'].forEach(id=>{const el=document.getElementById(id);if(el)el.style.display='none'});
  document.getElementById('suc').style.display='flex';
  window.scrollTo({top:0,behavior:'smooth'});
}
function setSt(m,c){const el=document.getElementById('pay-st');el.textContent=m;el.className=c||''}
window.doOut=function(){};
initSq();
</script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
const auth=getAuth(initializeApp({apiKey:"AIzaSyCTQDlsZNhZ-I6CvlNgZDPgpJJYlYto6Rk",authDomain:"jalandhar-fitness-club.firebaseapp.com",projectId:"jalandhar-fitness-club",storageBucket:"jalandhar-fitness-club.firebasestorage.app",messagingSenderId:"899365845803",appId:"1:899365845803:web:a75a331462df8b017f236e"}));
async function isApproved(email){
  try{
    const t=await(await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQDk6mlT8US0aTZU2iWh6dYX0e4HbGrpmYYdNYEtAzAUeUw0oyAXsZlWr6Ip_Na3jhOHRcUVBELgKgv/pub?output=csv")).text();
    for(let row of t.split("\n").map(r=>r.trim()).filter(r=>r&&!r.toLowerCase().startsWith("email"))){
      const p=row.split(",");
      if((p[0]||"").trim().toLowerCase()===email.toLowerCase())return['yes','true'].includes((p[3]||"").trim().toLowerCase());
    }
  }catch(e){}
  return false;
}
onAuthStateChanged(auth,async user=>{
  if(!user){window.location.href='login.html';return}
  window.userEmail=user.email;
  document.getElementById('bar-email').textContent=user.email;
  document.getElementById('c-email').textContent=user.email;
  if(!(await isApproved(user.email))){window.location.href='pending.html';return}
  window.doOut=()=>signOut(auth).then(()=>window.location.href='login.html');
});
</script>
</body>
</html>
