<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>Bikini Program — Strength Builder</title>
<meta name="theme-color" content="#0b0b0c"/>
<style>
:root{--bg:#fff5f7;--panel:rgba(255,182,193,.15);--panel2:rgba(255,218,185,.15);--text:#4a2c2a;--muted:#b76e79;--shadow:0 12px 34px rgba(0,0,0,.55);--r1:18px;--r2:26px;--good:#ff69b4;--warn:#FFD27A;}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:radial-gradient(1200px 800px at 50% -20%, rgba(255,255,255,.08), transparent 60%),radial-gradient(900px 600px at 10% 10%, rgba(255,255,255,.05), transparent 55%),var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;text-rendering:geometricPrecision;letter-spacing:.2px;overflow-x:hidden;}
.app{max-width:620px;margin:0 auto;min-height:100%;padding:calc(env(safe-area-inset-top) + 14px) 14px calc(env(safe-area-inset-bottom) + 24px);}
header{position:sticky;top:0;z-index:50;margin:-14px -14px 12px;padding:12px 14px 12px;backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);background:linear-gradient(to bottom, rgba(11,11,12,.92), rgba(11,11,12,.55), rgba(11,11,12,0));border-bottom:1px solid rgba(255,255,255,.06);}
.brand{display:flex;flex-direction:column;align-items:center;gap:6px;padding:6px 0 10px;}
.brand h1{margin:0;font-size:28px;line-height:1.05;letter-spacing:.7px;font-weight:950;text-transform:uppercase;text-align:center;}
.brand .sub{margin:0;font-size:12px;color:var(--muted);text-align:center;}
.pill{display:inline-flex;align-items:center;gap:10px;padding:10px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:var(--text);font-weight:950;font-size:12px;letter-spacing:.2px;user-select:none;white-space:nowrap;}
.pill .dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,.20);border:1px solid rgba(255,255,255,.25);}
.topRow{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-top:6px;}
.meta{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;}
.actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;width:100%;margin-top:10px}
.btn{appearance:none;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:var(--text);padding:10px 12px;border-radius:14px;font-weight:950;font-size:12px;cursor:pointer;white-space:nowrap;transition:transform .18s ease, background .18s ease, border-color .18s ease;}
.btn:active{transform:scale(.98)}
.btn.primary{background:rgba(255,255,255,.14);border-color:rgba(255,255,255,.24);}
.btn.ghost{background:transparent;border-color:rgba(255,255,255,.10);color:var(--muted);}

.selectWrap{position:relative;display:inline-flex;align-items:center;margin-left:8px}
.selectWrap::after{content:"▾";position:absolute;right:10px;pointer-events:none;font-size:14px;color:rgba(255,255,255,.90);}
.selectWrap select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background: rgba(0,0,0,.55);color: var(--text);border: 1px solid rgba(255,255,255,.22);border-radius: 12px;padding: 7px 30px 7px 12px;font-weight: 950;font-size: 12px;line-height: 1;outline: none;}
.selectWrap select:focus{border-color: rgba(255,255,255,.40);box-shadow: 0 0 0 3px rgba(255,255,255,.08);}
.selectWrap select option{background:#0b0b0c;color:var(--text);}

.panel{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid rgba(255,255,255,.08);border-radius:var(--r2);box-shadow:var(--shadow);overflow:hidden;}
.panelHead{padding:14px 14px 12px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;align-items:flex-start;justify-content:space-between;gap:12px;}
.panelHead h2{margin:0;font-size:16px;font-weight:950;letter-spacing:.2px;text-transform:uppercase;}
.panelHead p{margin:6px 0 0;color:var(--muted);font-size:12px;line-height:1.25;}
.content{padding:14px;display:flex;flex-direction:column;gap:12px;}
.sectionTitle{font-size:12px;color:var(--muted);letter-spacing:.35px;text-transform:uppercase;margin:8px 2px -2px;display:flex;justify-content:space-between;gap:10px;}
.card{background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:var(--r1);overflow:hidden;}
.cardInner{display:flex;gap:12px;padding:12px;align-items:center;}
.thumb{width:78px;height:78px;border-radius:18px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);overflow:hidden;flex:0 0 auto;position:relative;display:flex;align-items:center;justify-content:center;}
.thumb svg{width:100%;height:100%}
.thumb .shine{position:absolute;inset:-40%;background:linear-gradient(110deg, transparent 35%, rgba(255,255,255,.10) 45%, transparent 55%);transform:translateX(-30%);animation:shine 4.5s ease-in-out infinite;pointer-events:none;}
@keyframes shine{0%,55%{transform:translateX(-35%)}100%{transform:translateX(45%)}}
.info{min-width:0;flex:1}
.name{margin:0 0 6px;font-weight:950;letter-spacing:.2px;font-size:15px;line-height:1.2;text-transform:uppercase;}
.detail{margin:0;color:var(--muted);font-size:12px;line-height:1.35;}
.sets{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;}
.chip{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.10);font-size:12px;color:var(--text);cursor:pointer;user-select:none;white-space:nowrap;transition:transform .18s ease, background .18s ease, border-color .18s ease;}
.chip:active{transform:scale(.98)}
.chip .dot{width:10px;height:10px;border-radius:999px;border:1px solid rgba(255,255,255,.35);background:transparent;box-shadow:inset 0 0 0 1px rgba(0,0,0,.35);}
.chip.checked{background:rgba(255,255,255,.14);border-color:rgba(255,255,255,.24);}
.chip.checked .dot{background:var(--good);border-color:rgba(255,255,255,.55);box-shadow:0 0 0 3px rgba(124,252,154,.14);}
.progressWrap{padding:12px 14px 14px;border-top:1px solid rgba(255,255,255,.06);background:rgba(0,0,0,.18);}
.bar{width:100%;height:10px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);border-radius:999px;overflow:hidden;}
.bar>div{height:100%;width:0%;background:linear-gradient(90deg, rgba(255,255,255,.55), rgba(255,255,255,.95));border-radius:999px;transition:width .25s ease;}
.progressMeta{display:flex;justify-content:space-between;align-items:center;margin-top:8px;font-size:12px;color:var(--muted);gap:10px;flex-wrap:wrap;}
.progressMeta b{color:var(--text)}
.empty{padding:14px;border:1px dashed rgba(255,255,255,.14);border-radius:var(--r1);background:rgba(255,255,255,.03);color:var(--muted);font-size:13px;line-height:1.4;}
@media (max-width:380px){.thumb{width:72px;height:72px}.brand h1{font-size:26px}}
</style>
</head>
<body>
<div class="app">
<header>
  <div class="brand">
    <h1>Bikini Program</h1>
    <p class="sub">Bikini Ready • 8 Weeks • Progress Saved</p>
  </div>
  <div class="topRow">
    <div class="meta">
      <div class="pill" id="metaWeek"><span class="dot"></span><span>Week 1</span></div>
      <div class="pill" id="metaDay"><span class="dot" style="background:var(--warn)"></span><span>Day 1</span></div>
      <div class="pill" id="metaTitle"><span class="dot"></span><span>—</span></div>
    </div>
  </div>

  <div class="actions">
    <label class="pill" style="cursor:default">
      <span class="dot"></span><span>Week</span>
      <div class="selectWrap"><select id="weekSelect" aria-label="Week">
        
        
        
        
        
        
        
        
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      
      
      
      
      
      
      
      
      </select></div>
    </label>

    <label class="pill" style="cursor:default">
      <span class="dot" style="background:var(--warn)"></span><span>Day</span>
      <div class="selectWrap"><select id="daySelect" aria-label="Day">
        <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option>
        <option value="5">5</option><option value="6">6</option><option value="7">7</option>
      </select></div>
    </label>

    <button class="btn ghost" id="resetBtn">Reset Day</button>
    <button class="btn primary" id="markAllBtn">Mark All</button>
  </div>
</header>

<section class="panel">
  <div class="panelHead">
    <div>
      <h2 id="panelTitle">Week 1 • Day 1</h2>
      <p id="panelSub">Tap sets to check them off. Progress saves automatically.</p>
    </div>
  </div>
  <div class="content" id="content"></div>
  <div class="progressWrap">
    <div class="bar"><div id="barFill"></div></div>
    <div class="progressMeta">
      <span><b id="progressPct">0%</b> complete</span>
      <span><span id="progressDone">0</span> / <span id="progressTotal">0</span> sets</span>
    </div>
  </div>
</section>
</div>

<script>

const SPLIT = {
  "1": {
    "1": {
      "title": "Glutes & Delts",
      "morning": [],
      "workout": [
        {
          "name": "Barbell Hip Thrust",
          "sets": [
            "10",
            "5",
            "20",
            "20"
          ]
        },
        {
          "name": "Barbell Walking Lunge",
          "sets": [
            "10 each leg",
            "10 each leg",
            "10 each leg",
            "10 each leg"
          ]
        },
        {
          "name": "Back Extension",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Gluteator",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Lateral Raise Machine",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Alternating DB Front Raise",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Cable Fly",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Six Ways",
          "sets": [
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "2": {
      "title": "Back & Arms",
      "morning": [],
      "workout": [
        {
          "name": "Close Grip Pulldown",
          "sets": [
            "10-20"
          ]
        },
        {
          "name": "Chin-Ups",
          "sets": [
            "Failure",
            "Failure"
          ]
        },
        {
          "name": "Barbell T-Bar Row",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Wide Grip Pulldown",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Close Grip Bench Press",
          "sets": [
            "6",
            "9",
            "12"
          ]
        },
        {
          "name": "EZ Bar Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Overhead Rope Extension",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Preacher Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Shoulders",
      "morning": [],
      "workout": [
        {
          "name": "Push Press (4 sec negative)",
          "sets": [
            "5",
            "5"
          ]
        },
        {
          "name": "Incline DB Press",
          "sets": [
            "15",
            "15",
            "15"
          ]
        },
        {
          "name": "Seated DB Lateral Raise (4 sec negative)",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "Cable Upright Row",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Standing DB Lateral Raise",
          "sets": [
            "12",
            "10",
            "8",
            "8"
          ]
        },
        {
          "name": "Front Plate Raise",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Pec Deck",
          "sets": [
            "12",
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {
          "name": "Lying Leg Curl",
          "sets": [
            "6",
            "6",
            "6"
          ]
        },
        {
          "name": "Leg Press",
          "sets": [
            "20",
            "15",
            "10",
            "10"
          ]
        },
        {
          "name": "Stiff Leg Deadlift",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Leg Extension",
          "sets": [
            "12",
            "12",
            "12"
          ]
        },
        {
          "name": "Seated Leg Curl",
          "sets": [
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "6": {
      "title": "Glutes Pump",
      "morning": [],
      "workout": [
        {
          "name": "Banded Hip Thrust",
          "sets": [
            "20",
            "20"
          ]
        },
        {
          "name": "Banded Side Leg Raise",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "DB Frog Pump",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Back)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Upright)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Forward)",
          "sets": [
            "30"
          ]
        }
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },
  "2": {
    "1": {
      "title": "Glutes & Delts",
      "morning": [],
      "workout": [
        {
          "name": "Barbell Hip Thrust",
          "sets": [
            "10",
            "5",
            "20",
            "20"
          ]
        },
        {
          "name": "Barbell Walking Lunge",
          "sets": [
            "10 each leg",
            "10 each leg",
            "10 each leg",
            "10 each leg"
          ]
        },
        {
          "name": "Back Extension",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Gluteator",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Lateral Raise Machine",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Alternating DB Front Raise",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Cable Fly",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Six Ways",
          "sets": [
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "2": {
      "title": "Back & Arms",
      "morning": [],
      "workout": [
        {
          "name": "Close Grip Pulldown",
          "sets": [
            "10-20"
          ]
        },
        {
          "name": "Chin-Ups",
          "sets": [
            "Failure",
            "Failure"
          ]
        },
        {
          "name": "Barbell T-Bar Row",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Wide Grip Pulldown",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Close Grip Bench Press",
          "sets": [
            "6",
            "9",
            "12"
          ]
        },
        {
          "name": "EZ Bar Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Overhead Rope Extension",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Preacher Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Shoulders",
      "morning": [],
      "workout": [
        {
          "name": "Push Press (4 sec negative)",
          "sets": [
            "5",
            "5"
          ]
        },
        {
          "name": "Incline DB Press",
          "sets": [
            "15",
            "15",
            "15"
          ]
        },
        {
          "name": "Seated DB Lateral Raise (4 sec negative)",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "Cable Upright Row",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Standing DB Lateral Raise",
          "sets": [
            "12",
            "10",
            "8",
            "8"
          ]
        },
        {
          "name": "Front Plate Raise",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Pec Deck",
          "sets": [
            "12",
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {
          "name": "Lying Leg Curl",
          "sets": [
            "6",
            "6",
            "6"
          ]
        },
        {
          "name": "Leg Press",
          "sets": [
            "20",
            "15",
            "10",
            "10"
          ]
        },
        {
          "name": "Stiff Leg Deadlift",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Leg Extension",
          "sets": [
            "12",
            "12",
            "12"
          ]
        },
        {
          "name": "Seated Leg Curl",
          "sets": [
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "6": {
      "title": "Glutes Pump",
      "morning": [],
      "workout": [
        {
          "name": "Banded Hip Thrust",
          "sets": [
            "20",
            "20"
          ]
        },
        {
          "name": "Banded Side Leg Raise",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "DB Frog Pump",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Back)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Upright)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Forward)",
          "sets": [
            "30"
          ]
        }
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },
  "3": {
    "1": {
      "title": "Glutes & Delts",
      "morning": [],
      "workout": [
        {
          "name": "Barbell Hip Thrust",
          "sets": [
            "10",
            "5",
            "20",
            "20"
          ]
        },
        {
          "name": "Barbell Walking Lunge",
          "sets": [
            "10 each leg",
            "10 each leg",
            "10 each leg",
            "10 each leg"
          ]
        },
        {
          "name": "Back Extension",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Gluteator",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Lateral Raise Machine",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Alternating DB Front Raise",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Cable Fly",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Six Ways",
          "sets": [
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "2": {
      "title": "Back & Arms",
      "morning": [],
      "workout": [
        {
          "name": "Close Grip Pulldown",
          "sets": [
            "10-20"
          ]
        },
        {
          "name": "Chin-Ups",
          "sets": [
            "Failure",
            "Failure"
          ]
        },
        {
          "name": "Barbell T-Bar Row",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Wide Grip Pulldown",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Close Grip Bench Press",
          "sets": [
            "6",
            "9",
            "12"
          ]
        },
        {
          "name": "EZ Bar Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Overhead Rope Extension",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Preacher Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Shoulders",
      "morning": [],
      "workout": [
        {
          "name": "Push Press (4 sec negative)",
          "sets": [
            "5",
            "5"
          ]
        },
        {
          "name": "Incline DB Press",
          "sets": [
            "15",
            "15",
            "15"
          ]
        },
        {
          "name": "Seated DB Lateral Raise (4 sec negative)",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "Cable Upright Row",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Standing DB Lateral Raise",
          "sets": [
            "12",
            "10",
            "8",
            "8"
          ]
        },
        {
          "name": "Front Plate Raise",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Pec Deck",
          "sets": [
            "12",
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {
          "name": "Lying Leg Curl",
          "sets": [
            "6",
            "6",
            "6"
          ]
        },
        {
          "name": "Leg Press",
          "sets": [
            "20",
            "15",
            "10",
            "10"
          ]
        },
        {
          "name": "Stiff Leg Deadlift",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Leg Extension",
          "sets": [
            "12",
            "12",
            "12"
          ]
        },
        {
          "name": "Seated Leg Curl",
          "sets": [
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "6": {
      "title": "Glutes Pump",
      "morning": [],
      "workout": [
        {
          "name": "Banded Hip Thrust",
          "sets": [
            "20",
            "20"
          ]
        },
        {
          "name": "Banded Side Leg Raise",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "DB Frog Pump",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Back)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Upright)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Forward)",
          "sets": [
            "30"
          ]
        }
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },
  "4": {
    "1": {
      "title": "Glutes & Delts",
      "morning": [],
      "workout": [
        {
          "name": "Barbell Hip Thrust",
          "sets": [
            "10",
            "5",
            "20",
            "20"
          ]
        },
        {
          "name": "Barbell Walking Lunge",
          "sets": [
            "10 each leg",
            "10 each leg",
            "10 each leg",
            "10 each leg"
          ]
        },
        {
          "name": "Back Extension",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Gluteator",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Lateral Raise Machine",
          "sets": [
            "20",
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Alternating DB Front Raise",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Cable Fly",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Six Ways",
          "sets": [
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "2": {
      "title": "Back & Arms",
      "morning": [],
      "workout": [
        {
          "name": "Close Grip Pulldown",
          "sets": [
            "10-20"
          ]
        },
        {
          "name": "Chin-Ups",
          "sets": [
            "Failure",
            "Failure"
          ]
        },
        {
          "name": "Barbell T-Bar Row",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Wide Grip Pulldown",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Close Grip Bench Press",
          "sets": [
            "6",
            "9",
            "12"
          ]
        },
        {
          "name": "EZ Bar Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Overhead Rope Extension",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Preacher Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Shoulders",
      "morning": [],
      "workout": [
        {
          "name": "Push Press (4 sec negative)",
          "sets": [
            "5",
            "5"
          ]
        },
        {
          "name": "Incline DB Press",
          "sets": [
            "15",
            "15",
            "15"
          ]
        },
        {
          "name": "Seated DB Lateral Raise (4 sec negative)",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "Cable Upright Row",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Standing DB Lateral Raise",
          "sets": [
            "12",
            "10",
            "8",
            "8"
          ]
        },
        {
          "name": "Front Plate Raise",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Pec Deck",
          "sets": [
            "12",
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {
          "name": "Lying Leg Curl",
          "sets": [
            "6",
            "6",
            "6"
          ]
        },
        {
          "name": "Leg Press",
          "sets": [
            "20",
            "15",
            "10",
            "10"
          ]
        },
        {
          "name": "Stiff Leg Deadlift",
          "sets": [
            "10",
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Leg Extension",
          "sets": [
            "12",
            "12",
            "12"
          ]
        },
        {
          "name": "Seated Leg Curl",
          "sets": [
            "12",
            "12",
            "12"
          ]
        }
      ],
      "finish": []
    },
    "6": {
      "title": "Glutes Pump",
      "morning": [],
      "workout": [
        {
          "name": "Banded Hip Thrust",
          "sets": [
            "20",
            "20"
          ]
        },
        {
          "name": "Banded Side Leg Raise",
          "sets": [
            "8",
            "8"
          ]
        },
        {
          "name": "DB Frog Pump",
          "sets": [
            "30",
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Back)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Upright)",
          "sets": [
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction (Lean Forward)",
          "sets": [
            "30"
          ]
        }
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },
  "5": {
    "1": {
      "title": "Glutes",
      "morning": [],
      "workout": [
        {
          "name": "Barbell Glute Bridge (Dropset)",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Gluteator",
          "sets": [
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Bulgarian Split Squat",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Stiff-Legged Deadlift",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Lying Hip Abduction",
          "sets": [
            "30",
            "30"
          ]
        }
      ],
      "finish": []
    },
    "2": {
      "title": "Delts & Abs",
      "morning": [],
      "workout": [
        {
          "name": "Seated Barbell Military Press",
          "sets": [
            "8",
            "8",
            "8"
          ]
        },
        {
          "name": "Upright Cable Row",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Delt Blaster",
          "sets": [
            "10/10/10",
            "10/10/10",
            "10/10/10"
          ]
        },
        {
          "name": "Seated Six Ways",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Hanging Leg Raise",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Cable Crunch",
          "sets": [
            "20",
            "20"
          ]
        },
        {
          "name": "Decline Weighted Sit-up",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Chest & Back",
      "morning": [],
      "workout": [
        {
          "name": "Weighted Chin-up",
          "sets": [
            "3",
            "3",
            "3"
          ]
        },
        {
          "name": "Close-Grip Bench Press",
          "sets": [
            "8",
            "8",
            "8"
          ]
        },
        {
          "name": "Inverted Row",
          "sets": [
            "Failure",
            "Failure",
            "Failure"
          ]
        },
        {
          "name": "One-Arm Dumbbell Row",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Seated Face Pull",
          "sets": [
            "12",
            "12"
          ]
        },
        {
          "name": "EZ-Bar Curl / Skullcrusher Superset",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {
          "name": "Single-Leg Press",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Leg Press",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Standing Leg Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Goblet Squat",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Back Extension",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Calf Raise",
          "sets": [
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "6": {
      "title": "Delts & Glutes",
      "morning": [],
      "workout": [
        {
          "name": "One-Arm Cable Lateral Raise",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Barbell Front Raise",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Pec Deck",
          "sets": [
            "12",
            "12",
            "12"
          ]
        },
        {
          "name": "Banded Barbell Glute Bridge",
          "sets": [
            "30",
            "30",
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction",
          "sets": [
            "30",
            "30",
            "30"
          ]
        },
        {
          "name": "Dumbbell Frog Pump",
          "sets": [
            "30",
            "30",
            "30"
          ]
        }
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },
  "6": {
    "1": {
      "title": "Glutes",
      "morning": [],
      "workout": [
        {
          "name": "Barbell Glute Bridge (Dropset)",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Gluteator",
          "sets": [
            "20",
            "20",
            "20"
          ]
        },
        {
          "name": "Bulgarian Split Squat",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Stiff-Legged Deadlift",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Lying Hip Abduction",
          "sets": [
            "30",
            "30"
          ]
        }
      ],
      "finish": []
    },
    "2": {
      "title": "Delts & Abs",
      "morning": [],
      "workout": [
        {
          "name": "Seated Barbell Military Press",
          "sets": [
            "8",
            "8",
            "8"
          ]
        },
        {
          "name": "Upright Cable Row",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Delt Blaster",
          "sets": [
            "10/10/10",
            "10/10/10",
            "10/10/10"
          ]
        },
        {
          "name": "Seated Six Ways",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Hanging Leg Raise",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Cable Crunch",
          "sets": [
            "20",
            "20"
          ]
        },
        {
          "name": "Decline Weighted Sit-up",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Chest & Back",
      "morning": [],
      "workout": [
        {
          "name": "Weighted Chin-up",
          "sets": [
            "3",
            "3",
            "3"
          ]
        },
        {
          "name": "Close-Grip Bench Press",
          "sets": [
            "8",
            "8",
            "8"
          ]
        },
        {
          "name": "Inverted Row",
          "sets": [
            "Failure",
            "Failure",
            "Failure"
          ]
        },
        {
          "name": "One-Arm Dumbbell Row",
          "sets": [
            "10",
            "10"
          ]
        },
        {
          "name": "Seated Face Pull",
          "sets": [
            "12",
            "12"
          ]
        },
        {
          "name": "EZ-Bar Curl / Skullcrusher Superset",
          "sets": [
            "10",
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {
          "name": "Single-Leg Press",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Leg Press",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Standing Leg Curl",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Goblet Squat",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Back Extension",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Calf Raise",
          "sets": [
            "10",
            "10"
          ]
        }
      ],
      "finish": []
    },
    "6": {
      "title": "Glutes & Delts",
      "morning": [],
      "workout": [
        {
          "name": "One-Arm Cable Lateral Raise",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Barbell Front Raise",
          "sets": [
            "10",
            "10",
            "10"
          ]
        },
        {
          "name": "Reverse Pec Deck",
          "sets": [
            "12",
            "12",
            "12"
          ]
        },
        {
          "name": "Banded Barbell Glute Bridge",
          "sets": [
            "30",
            "30",
            "30"
          ]
        },
        {
          "name": "Banded Seated Hip Abduction",
          "sets": [
            "30",
            "30",
            "30"
          ]
        },
        {
          "name": "Dumbbell Frog Pump",
          "sets": [
            "30",
            "30",
            "30"
          ]
        }
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },
  "7": {
    "1": {
      "title": "Glutes",
      "morning": [],
      "workout": [
        {"name": "Barbell Glute Bridge (Dropset)", "sets": ["10","10","10"]},
        {"name": "Gluteator", "sets": ["20","20","20"]},
        {"name": "Bulgarian Split Squat", "sets": ["10","10","10"]},
        {"name": "Stiff-Legged Deadlift", "sets": ["10","10","10"]},
        {"name": "Lying Hip Abduction", "sets": ["30","30"]}
      ],
      "finish": []
    },
    "2": {
      "title": "Delts & Abs",
      "morning": [],
      "workout": [
        {"name": "Seated Barbell Military Press", "sets": ["8","8","8"]},
        {"name": "Upright Cable Row", "sets": ["10","10","10"]},
        {"name": "Delt Blaster", "sets": ["10/10/10","10/10/10","10/10/10"]},
        {"name": "Seated Six Ways", "sets": ["10","10","10"]},
        {"name": "Hanging Leg Raise", "sets": ["10","10","10"]},
        {"name": "Cable Crunch", "sets": ["20","20"]},
        {"name": "Decline Weighted Sit-up", "sets": ["10","10","10"]}
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Chest & Back",
      "morning": [],
      "workout": [
        {"name": "Weighted Chin-up", "sets": ["3","3","3"]},
        {"name": "Close-Grip Bench Press", "sets": ["8","8","8"]},
        {"name": "Inverted Row", "sets": ["Failure","Failure","Failure"]},
        {"name": "One-Arm Dumbbell Row", "sets": ["10","10"]},
        {"name": "Seated Face Pull", "sets": ["12","12"]},
        {"name": "EZ-Bar Curl / Skullcrusher Superset", "sets": ["10","10","10"]}
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {"name": "Single-Leg Press", "sets": ["10","10","10"]},
        {"name": "Leg Press", "sets": ["10","10","10"]},
        {"name": "Standing Leg Curl", "sets": ["10","10","10"]},
        {"name": "Goblet Squat", "sets": ["10","10","10"]},
        {"name": "Back Extension", "sets": ["10","10","10"]},
        {"name": "Calf Raise", "sets": ["10","10"]}
      ],
      "finish": []
    },
    "6": {
      "title": "Delts & Glutes",
      "morning": [],
      "workout": [
        {"name": "One-Arm Cable Lateral Raise", "sets": ["10","10","10"]},
        {"name": "Barbell Front Raise", "sets": ["10","10","10"]},
        {"name": "Reverse Pec Deck", "sets": ["12","12","12"]},
        {"name": "Banded Barbell Glute Bridge", "sets": ["30","30","30"]},
        {"name": "Banded Seated Hip Abduction", "sets": ["30","30","30"]},
        {"name": "Dumbbell Frog Pump", "sets": ["30","30","30"]}
      ],
      "finish": []
    },
    "7": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  },

  "8": {
    "1": {
      "title": "Glutes",
      "morning": [],
      "workout": [
        {"name": "Barbell Glute Bridge (Dropset)", "sets": ["10","10","10"]},
        {"name": "Gluteator", "sets": ["20","20","20"]},
        {"name": "Bulgarian Split Squat", "sets": ["10","10","10"]},
        {"name": "Stiff-Legged Deadlift", "sets": ["10","10","10"]},
        {"name": "Lying Hip Abduction", "sets": ["30","30"]}
      ],
      "finish": []
    },
    "2": {
      "title": "Delts & Abs",
      "morning": [],
      "workout": [
        {"name": "Seated Barbell Military Press", "sets": ["8","8","8"]},
        {"name": "Upright Cable Row", "sets": ["10","10","10"]},
        {"name": "Delt Blaster", "sets": ["10/10/10","10/10/10","10/10/10"]},
        {"name": "Seated Six Ways", "sets": ["10","10","10"]},
        {"name": "Hanging Leg Raise", "sets": ["10","10","10"]},
        {"name": "Cable Crunch", "sets": ["20","20"]},
        {"name": "Decline Weighted Sit-up", "sets": ["10","10","10"]}
      ],
      "finish": []
    },
    "3": {
      "title": "Rest Day",
      "morning": [],
      "workout": [],
      "finish": []
    },
    "4": {
      "title": "Chest & Back",
      "morning": [],
      "workout": [
        {"name": "Weighted Chin-up", "sets": ["3","3","3"]},
        {"name": "Close-Grip Bench Press", "sets": ["8","8","8"]},
        {"name": "Inverted Row", "sets": ["Failure","Failure","Failure"]},
        {"name": "One-Arm Dumbbell Row", "sets": ["10","10"]},
        {"name": "Seated Face Pull", "sets": ["12","12"]},
        {"name": "EZ-Bar Curl / Skullcrusher Superset", "sets": ["10","10","10"]}
      ],
      "finish": []
    },
    "5": {
      "title": "Legs",
      "morning": [],
      "workout": [
        {"name": "Single-Leg Press", "sets": ["10","10","10"]},
        {"name": "Leg Press", "sets": ["10","10","10"]},
        {"name": "Standing Leg Curl", "sets": ["10","10","10"]},
        {"name": "Goblet Squat", "sets": ["10","10","10"]},
        {"name": "Back Extension", "sets": ["10","10","10"]},
        {"name": "Calf Raise", "sets": ["10","10"]}
      ],
      "finish": []
    },
    "6": {
      "title": "Delts & Glutes",
      "morning": [],
      "workout": [
        {"name": "One-Arm Cable Lateral Raise", "sets": ["10","10","10"]},
        {"name": "Barbell Front Raise", "sets": ["10","10","10"]},
        {"name": "Reverse Pec Deck", "sets": ["12","12","12"]},
        {"name": "Banded Barbell Glute Bridge", "sets": ["30","30","30"]},
        {"name": "Banded Seated Hip Abduction", "sets": ["30","30","30"]},
        {"name": "Dumbbell Frog Pump", "sets": ["30","30","30"]}
      ],
      "finish": []
    },
    "7": {
      "title": "Final Day",
      "morning": [],
      "workout": [],
      "finish": []
    }
  }

};



function safe(s){return String(s).replace(/</g,"&lt;").replace(/>/g,"&gt;");}

function svgIcon(name){
  const common='fill="none" stroke="rgba(255,255,255,.85)" stroke-width="3.2" stroke-linecap="round" stroke-linejoin="round"';
  const bg='<rect x="3" y="3" width="122" height="122" rx="20" ry="20" fill="rgba(255,255,255,.04)" stroke="rgba(255,255,255,.10)" />';
  const treadmill=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M26 90h66" /><path ${common} d="M30 90l10-42h26l10 26h18" /><circle cx="34" cy="96" r="6" fill="rgba(255,255,255,.75)" /><circle cx="92" cy="96" r="6" fill="rgba(255,255,255,.75)" /></svg>`;
  const twist=`<svg viewBox="0 0 128 128">${bg}<circle cx="78" cy="36" r="8" fill="rgba(255,255,255,.75)" /><path ${common} d="M40 82c10-10 38-10 48 0" /></svg>`;
  const pullup=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M28 34h72" /><path ${common} d="M32 34v60" /><path ${common} d="M96 34v60" /></svg>`;
  const row=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M30 92h68" /><path ${common} d="M38 92l10-44h32l10 44" /></svg>`;
  const shoulder=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M34 98h60" /><path ${common} d="M48 98V60h32v38" /></svg>`;
  const delt=`<svg viewBox="0 0 128 128">${bg}<circle cx="64" cy="40" r="8" fill="rgba(255,255,255,.75)" /><path ${common} d="M44 60l-12 10" /><path ${common} d="M84 60l12 10" /></svg>`;
  const shrug=`<svg viewBox="0 0 128 128">${bg}<circle cx="64" cy="38" r="8" fill="rgba(255,255,255,.75)" /><path ${common} d="M44 60c4 6 10 10 20 10s16-4 20-10" /></svg>`;
  const triceps=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M44 30h40" /><path ${common} d="M64 30v54" /></svg>`;
  const chest=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M28 88h72" /><path ${common} d="M40 88l12-36h24l12 36" /></svg>`;
  const hack=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M34 100h66" /><path ${common} d="M40 98l12-58h40l-12 58" /></svg>`;
  const curl=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M34 96h60" /><path ${common} d="M40 94V54h20" /></svg>`;
  const calf=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M40 96h48" /><path ${common} d="M52 92c0-20 12-24 24-40" /></svg>`;
  const abs=`<svg viewBox="0 0 128 128">${bg}<path ${common} d="M46 30h36" /><path ${common} d="M46 30l-8 28c-4 16 6 40 26 40s30-24 26-40l-8-28" /></svg>`;
  const n=name.toLowerCase();
  if(n.includes("cardio")) return treadmill;
  if(n.includes("twist")) return twist;
  if(n.includes("pull")) return pullup;
  if(n.includes("row")||n.includes("pulldown")) return row;
  if(n.includes("press") && (n.includes("should")||n.includes("military"))) return shoulder;
  if(n.includes("pec")||n.includes("lateral")||n.includes("rear delt")||n.includes("cross")) return delt;
  if(n.includes("shrug")) return shrug;
  if(n.includes("tricep")||n.includes("pressdown")||n.includes("rope")||n.includes("overhead")) return triceps;
  if(n.includes("chest")||n.includes("bench")||n.includes("incline")) return chest;
  if(n.includes("hack")||n.includes("leg")) return hack;
  if(n.includes("curl")) return curl;
  if(n.includes("calf")) return calf;
  if(n.includes("sit")||n.includes("raise")||n.includes("ab")) return abs;
  return treadmill;
}


/* ===============================
   Bikini Program Storage
   =============================== */

const STORAGE_KEY = "JFC_STRENGTH_WEEK1_V2";
const BACKUP_KEY  = "JFC_STRENGTH_WEEK1_BACKUP_V2";

function loadState() {
  try {
    let data = localStorage.getItem(STORAGE_KEY);
    if (!data) {
      data = localStorage.getItem(BACKUP_KEY);
    }
    if (!data) {
      return { week: 1, day: 1, checks: {} };
    }
    return JSON.parse(data);
  } catch (err) {
    return { week: 1, day: 1, checks: {} };
  }
}

let state = loadState();

function saveState() {
  try {
    const json = JSON.stringify(state);
    localStorage.setItem(STORAGE_KEY, json);
    localStorage.setItem(BACKUP_KEY, json);
  } catch (err) {
    console.log("Storage failed.");
  }
}


const content=document.getElementById("content");
const metaWeek=document.getElementById("metaWeek");
const metaDay=document.getElementById("metaDay");
const metaTitle=document.getElementById("metaTitle");
const panelTitle=document.getElementById("panelTitle");
const panelSub=document.getElementById("panelSub");
const barFill=document.getElementById("barFill");
const progressPct=document.getElementById("progressPct");
const progressDone=document.getElementById("progressDone");
const progressTotal=document.getElementById("progressTotal");
const weekSelect=document.getElementById("weekSelect");
const daySelect=document.getElementById("daySelect");

function keyFor(week,day,name,idx){return `w${week}|d${day}|${name}|${idx}`;}

function chipHTML(week,day,name,i,label){
  const k=keyFor(week,day,name,i);
  const checked=!!state.checks[k];
  return `<div class="chip ${checked?"checked":""}" data-key="${k}"><span class="dot"></span><span>${safe(label)}</span></div>`;
}
function card(week,day,item){
  const chips=(item.sets||[]).map((s,i)=>chipHTML(week,day,item.name,i,`Set ${i+1}: ${s}`)).join("");
  return `<div class="card"><div class="cardInner"><div class="thumb">${svgIcon(item.name)}<div class="shine"></div></div><div class="info"><p class="name">${safe(item.name)}</p><p class="detail">${safe((item.sets||[]).join(" • "))}</p><div class="sets">${chips}</div></div></div></div>`;
}
function section(week,day,title,items,hint){
  return `<div class="sectionTitle"><span>${title}</span><small>${hint||""}</small></div>` + items.map(it=>card(week,day,it)).join("");
}
function allKeysForDay(week,day,plan){
  const keys=[];
  [plan.morning,plan.workout,plan.finish].flat().forEach(item=> (item.sets||[]).forEach((_,i)=>keys.push(keyFor(week,day,item.name,i)) ));
  return keys;
}
function renderProgress(plan){
  const keys=allKeysForDay(state.week,state.day,plan);
  const done=keys.filter(k=>!!state.checks[k]).length;
  const total=keys.length;
  const pct=Math.round((done/(total||1))*100);
  barFill.style.width=pct+"%";
  progressPct.textContent=pct+"%";
  progressDone.textContent=done;
  progressTotal.textContent=total;
}

function renderPlan(){
  const week=String(state.week), day=String(state.day);
  const plan = (SPLIT[week]||{})[day];
  if(!plan){
    metaWeek.querySelector("span:last-child").textContent=`Week ${state.week}`;
    metaDay.querySelector("span:last-child").textContent=`Day ${state.day}`;
    metaTitle.querySelector("span:last-child").textContent="—";
    panelTitle.textContent=`Week ${state.week} • Day ${state.day}`;
    panelSub.textContent="This day is missing workout data.";
    content.innerHTML = `<div class="empty">No workout data found for Week ${state.week} Day ${state.day}.</div>`;
    barFill.style.width="0%"; progressPct.textContent="0%"; progressDone.textContent="0"; progressTotal.textContent="0";
    return;
  }
  metaWeek.querySelector("span:last-child").textContent=`Week ${state.week}`;
  metaDay.querySelector("span:last-child").textContent=`Day ${state.day}`;
  metaTitle.querySelector("span:last-child").textContent=plan.title;
  panelTitle.textContent=`Week ${state.week} • Day ${state.day}`;
  panelSub.textContent=`Plan: ${plan.title}. Tap sets to check them off.`;

  const morning=plan.morning||[];
  const workout=plan.workout||[];
  const finish=plan.finish||[];

  let out="";
  if(morning.length) out += section(state.week,state.day,"Morning",morning,"start smooth");
  out += workout.length ? section(state.week,state.day,"Workout",workout,"push hard") : (`<div class="sectionTitle"><span>Workout</span><small>rest</small></div><div class="empty">No weights today — active rest.</div>`);
  if(finish.length) out += section(state.week,state.day,"Finish",finish,"clean close");
  content.innerHTML=out;

  content.onclick=(e)=>{
    const chip=e.target.closest(".chip"); if(!chip) return;
    const k=chip.getAttribute("data-key");
    state.checks[k]=!state.checks[k];
    chip.classList.toggle("checked", !!state.checks[k]);
    saveState();
    renderProgress(plan);
  };
  renderProgress(plan);
}

weekSelect.value = String(state.week);
daySelect.value = String(state.day);
weekSelect.addEventListener("change", ()=>{ state.week = Number(weekSelect.value); saveState(); renderPlan(); window.scrollTo({top:0,behavior:"smooth"}); });
daySelect.addEventListener("change", ()=>{ state.day = Number(daySelect.value); saveState(); renderPlan(); window.scrollTo({top:0,behavior:"smooth"}); });

document.getElementById("resetBtn").addEventListener("click",()=>{
  const plan = (SPLIT[String(state.week)]||{})[String(state.day)];
  if(!plan) return;
  allKeysForDay(state.week,state.day,plan).forEach(k=>delete state.checks[k]);
  saveState();
  document.querySelectorAll(".chip.checked").forEach(el=>el.classList.remove("checked"));
  renderProgress(plan);
});
document.getElementById("markAllBtn").addEventListener("click",()=>{
  const plan = (SPLIT[String(state.week)]||{})[String(state.day)];
  if(!plan) return;
  allKeysForDay(state.week,state.day,plan).forEach(k=>state.checks[k]=true);
  saveState();
  document.querySelectorAll(".chip").forEach(el=>el.classList.add("checked"));
  renderProgress(plan);
});

renderPlan();
</script>



<script>
document.addEventListener("click", function(e){
  if(e.target.classList.contains("sectionTitle")){
    const next = e.target.nextElementSibling;
    if(next){
      next.style.display = next.style.display === "none" ? "block" : "none";
    }
  }
});
</script>

</body>
</html>
